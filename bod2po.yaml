langs: [de,fr,it,en]
dsn: dbname='bod' user='www-data' password='www-data' port=5432 host='bgdipg01t.lt.admin.ch' 

tables:
  items:
    table: ms_item
    fields: [frm_designation]
    id: itemname
    layer: fk_layer_name 
    frm_designation: name
    sql: select fk_layer_name || '.' || pk_ms_item_name as itemname, *  from ms_item;

  classes:
    table: ms_class
    fields: [frm_designation]
    id: classname
    layer: fk_layer_name 
    frm_designation: name
    sql: select  fk_layer_name || '.' || pk_ms_class_name  as classname, *  from ms_class;
    
  layers:
    table: view_dataset_translation
    fields: [kurzbezeichnung,frm_abstract,grp_kurzbezeichnung,grp_abstract]
    id: id_dataset
    kurzbezeichnung: wms_title
    frm_abstract:    wms_abstract
    grp_kurzbezeichnung: wms_group_title
    grp_abstract: wms_group_abstract
    sql: SELECt * FROM view_dataset_translation

  groups:
    table: dataset_group
    fields: [kurzbezeichnung,frm_abstract]
    id: id_dataset_group
    kurzbezeichnung: wms_group_title
    frm_abstract: wms_group_abstract
    sql: SELECT id  as id_seq, id_dataset as id_dataset_group, projekte, kurzbezeichnung_de, kurzbezeichnung_fr, 
       kurzbezeichnung_it, kurzbezeichnung_en, kurzbezeichnung_rm, frm_bezeichnung_de, 
       frm_bezeichnung_fr, frm_bezeichnung_it, frm_bezeichnung_en, frm_bezeichnung_rm, 
       frm_abstract_de, frm_abstract_fr, frm_abstract_it, frm_abstract_en, 
       frm_abstract_rm, frm_scale_limit, fk_geobasisdaten_sammlung_bundesrecht, 
       fk_geocat, bgdi_modified, bgdi_created, bgdi_modified_by, bgdi_created_by, 
       frm_url, url_download, url_portale, b1_nutzungsbedingungen, comment, 
       staging, bodsearch, bgdi_id, download
       FROM dataset WHERE id_dataset in (SELECT parent_id from dataset);

  wms:
    table: wms_metadata
    fields: [title,abstract,name]
    id: project
    title: wms_title
    abstract: wms_abstract
    name: wms_contactorganization
    sql: SELECT substring(pk_map_name from '([a-z_-]+)\.map') AS project, * FROM  wms_metadata AS w  LEFT JOIN contactorganisation  c ON c.pk_contactorganisation_id =w.fk_contactorganisation_id
